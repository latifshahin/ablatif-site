# =============================
# ✅ Charset / UTF-8 Support
# =============================
AddDefaultCharset UTF-8
AddCharset UTF-8 .html .htm

# =============================
# ✅ Make ads.txt always accessible
# =============================
<Files "ads.txt">
  Require all granted
</Files>
AddType text/plain .txt

# =============================
# ✅ AdSense Review: Keep low-value pages out of Google's index (temporary)
#    - This does NOT block crawling; it tells Google "noindex"
#    - Remove rules after approval + after you expand content
# =============================
<IfModule mod_setenvif.c>
  # Noindex non-content sections (tools/games)
  SetEnvIf Request_URI "^/(games|tools|emi)/" NOINDEX
  SetEnvIf Request_URI "^/emi-calculator\.html$" NOINDEX

  # Noindex thin blog posts (expand them first, then remove from this rule)
  SetEnvIf Request_URI "^/blog/posts/(islamic\-banking\-basics\-bangladesh|mobile\-banking\-vs\-bank\-app\-bangladesh)\.html$" NOINDEX
</IfModule>

<IfModule mod_headers.c>
  Header set X-Robots-Tag "noindex, follow" env=NOINDEX
</IfModule>

# =============================
# ✅ Redirect WWW to Non-WWW (SEO + AdSense)
# =============================
RewriteEngine On
RewriteCond %{HTTP_HOST} ^www\.ablatif\.com$ [NC]
RewriteRule ^(.*)$ https://ablatif.com/$1 [L,R=301]

# =============================
# ✅ Prevent cache only for blog.css (optional)
# =============================
<IfModule mod_headers.c>
  <FilesMatch "blog\.css$">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires 0
  </FilesMatch>
</IfModule>

# =============================
# ✅ Cache static assets (speed)
# =============================
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpeg "access plus 30 days"
  ExpiresByType image/jpg  "access plus 30 days"
  ExpiresByType image/png  "access plus 30 days"
  ExpiresByType image/webp "access plus 30 days"
  ExpiresByType image/gif  "access plus 30 days"
  ExpiresByType text/css   "access plus 7 days"
  ExpiresByType application/javascript "access plus 7 days"
  ExpiresByType text/javascript "access plus 7 days"
</IfModule>
