# =============================
# ✅ Charset / UTF-8 Support
# =============================
AddDefaultCharset UTF-8
AddCharset UTF-8 .html .htm

# =============================
# ✅ Make ads.txt always accessible
# =============================
<Files "ads.txt">
  Require all granted
</Files>
AddType text/plain .txt

# =============================
# ✅ Redirects (SEO + AdSense)
# - Force HTTPS
# - Force non-WWW
# =============================
<IfModule mod_rewrite.c>
RewriteEngine On

# Force HTTPS + non-WWW in one redirect
RewriteCond %{HTTPS} !=on [OR]
RewriteCond %{HTTP_HOST} ^www\.ablatif\.com$ [NC]
RewriteRule ^ https://ablatif.com%{REQUEST_URI} [R=301,L]

</IfModule>

# =============================
# ✅ Security hardening (safe basics)
# =============================
<IfModule mod_headers.c>
  # Prevent MIME sniffing
  Header set X-Content-Type-Options "nosniff"
  # Basic clickjacking protection
  Header set X-Frame-Options "SAMEORIGIN"
  # Referrer policy
  Header set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

# =============================
# ✅ Compression (speed)
# =============================
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/css text/javascript application/javascript application/json application/xml image/svg+xml
</IfModule>

# =============================
# ✅ Cache static assets (speed)
# =============================
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpeg "access plus 30 days"
  ExpiresByType image/jpg  "access plus 30 days"
  ExpiresByType image/png  "access plus 30 days"
  ExpiresByType image/webp "access plus 30 days"
  ExpiresByType image/gif  "access plus 30 days"
  ExpiresByType image/svg+xml "access plus 30 days"
  ExpiresByType text/css   "access plus 7 days"
  ExpiresByType application/javascript "access plus 7 days"
  ExpiresByType text/javascript "access plus 7 days"
</IfModule>

# =============================
# ✅ IMPORTANT
# Removed: "Noindex thin blog posts" rule
# Because posts are now upgraded and must be indexable for AdSense review.
# =============================
